<!doctype html>
<html lang="en">
	
 <head>
	<link rel="stylesheet" href="style.css">
  <title>Feedback</title>
  <style>
    label {	float: left;
			width: 150px;
		}
      	#container{
          width: 700px;
          margin: auto;
          background-color: beige;
      } 
      main{
          padding: 50px;
	  }
	  table{
		  display: none;
		  border: 1px solid black;
		}
	h2{
		font-size: 32px;
		font-family: sans-serif;
		margin-top: -5px;
	}
	h3{
		font-size: 16px;
		font-family: sans-serif;
		margin-top: -20px;
		color: #666;
		font-weight: 500;

	}
	main{
		background-color: white;
	}
	 body{
		background-color: #eee;
	 }
	#myForm input{
		padding: 5px;
		border: solid 1px #999;
	}
	#optionSelect{
		padding: 5px;
		border: solid 1px #999;
		width: 150px;
	}
	
	#submit{
		background-color: #284ED2;
		color: white;
	}


  </style>
 </head>
 <body>
 <div id="container">
	 
	 <main>
	 <h2>Feedback Form</h2>
	 <h3>We'd love to hear from you.</h3>
		 
		 <br><br>
		 <form method="post" id = "myForm">
			<label>Title*:</label>
			
			<input type="radio" name="title" id="mr" value="Mr" required="required"/>Mr.
			<input type="radio" name="title" id="miss" value="Miss" required="required"/>Miss
			<input type="radio" name="title" id="mrs" value="Mrs" required="required"/>Mrs.
			<br><br>
			<label for="firstName">First Name*:</label>
			<input type="text" name="firstName" id="firstName" placeholder="First Name" required/>	
			<br><br>

			<div id="error_firstName" style="display: none; color: red;">
					Invalid input for the Firstname field.
					<br><br>
				</div>
			
			<label for="lastName">Last Name*:</label>
			<input type="text" name="lastName" id="lastName" placeholder="Last Name" required/>
			<br><br>
			<div id="error_lastName" style="display: none; color: red;">
					Invalid input for the Last Name field.
					<br><br>
				</div>
			

			<label for="emailId">Email Id*:</label>
			<input type="text" name="emailId" id="emailId" placeholder="yourname@northeastern.edu" required/>
			<br><br>
			<div id="error_emailId" style="display: none; color: red;">
					Please enter valid northeastern email ID
					<br><br>
			</div>
			<label for="phoneNumber">Phone Number*:</label>
			<input type="text" name="phoneNumber" id="phoneNumber" placeholder="xxx-xxx-xxxx" required/>
			<br><br>
			<div id="error_phoneNumber" style="display: none; color: red;">
					Please enter valid phone number.
					<br><br>
				</div>
			<label for="streetAddress1">Street Address 1*:</label>
			<input type="text" name="streetAddress1" id="streetAddress1" placeholder="address" required/>
			<br><br>
			
			<label for="streetAddress2">Street Address 2:</label>
			<input type="text" name="streetAddress2" id="streetAddress2" placeholder="address" />
			<br><br>

			<label for="city">City*:</label>
			<input type="text" name="city" id="city" placeholder="city" required/>
			<br><br>

			<label for="state">State*:</label>
			<input type="text" name="state" id="state" placeholder="state" required/>
			<br><br>
			
            <label for="zipcode">ZipCode*:</label>
			<input type="text" name="zipcode" id="zipcode" placeholder="xxxxxx" required/>
			<br><br>
			<div id="error_zipcode" style="display: none; color: red;">
					Only 6 digit is allowed in Zipcode
					<br><br>
				</div>

			<label>Drinks:</label>
			<select name="Name_of_list_box" size="Number_of_options" id = "optionSelect">
				<option>Select</option>
				<option>Latte</option>
				<option>Cappuccino</option>
				<option>Americano</option>
				<option>Espresso</option>
				<option>Mocha</option>
			</select>
				<br /><br />

			<!-- <label>size :</label>
			<input type="checkbox"  -->
			<div id="dynamicRadio" style="display: none">
				<label>Select Type*</label>
				<input type="radio" id="radioDynamic" name="rdsource" value="yelp"/><span id="spanTag">Yelp</span>
				<input type="radio" id="radioDynamic1" name="rdsource" value="gulp"/><span id="spanTag1">Yelp</span>
				<br /><br />
			</div>
			<div id="fieldtext" style="display: none">
				<label>Reviews*</label>
				<input type="text" id="fldtxt" name="text" placeholder="Write something" required/><br /><br />
			</div>
			
            <label for="zipcode">How did you hear*:</label>
			<input type='checkbox' name="source" value="facebook" /> Facebook
            <input type='checkbox' name="source" value="google" /> Google
            <input type='checkbox' name="source" value="yelp" /> Yelp 
			<br><br> 



             
			<label for="comments">Comments*:</label>
			<textarea name="text" id="comments" placeholder="Your comments" rows="5" cols="25" required></textarea>
			<br><br>
			<input type="Reset">
			<input id="submit" type="Submit">
			
			<br><br>
		 </form>
	 </main>
	</div>
	 <div>

		<table id="table" >
			<tr>
				<th>Title</th>
				<th>First name</th>
				<th>Last Name</th>
				<th>Email ID</th>
				<th>Phone Number</th>
				<th>Street Address 1</th>
				<th>Street Address 2</th>
				<th>City</th>
				<th>State</th>
				<th>Zipcode</th>
				<th>Comments</th>
				<th>Reviews</th>
			</tr>
		</table>
	 </div>
 

 <script>

	 var form = document.getElementById("myForm");
        form.addEventListener("submit", submitted);
		var validFirstName = false;
		var validLastName = false;
        var validEmailId = false;
		var validPhoneNumber = false;
		var validZipCode = false;
        // regex checks variables
        var regExName = /^[a-zA-Z]+$/;
		// var regExEmail = /([\w\.]+)@([\w\.]+)\.(\w+)/;
		var regExEmail = /([\w\.]+)@(northeastern+)\.(edu)/;
		// = /^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@northeastern.edu$/;
		//var regExPhone = /^\d{3}-?\d{3}-\d{4}$/;
		var regExPhone = /\d{3}-?\d{3}-\d{4}$/;
		var regExZipCode =  /^\d{5}$/;

        var firstName = document.getElementById("firstName");
		firstName.addEventListener("input", validate);

		var lastName = document.getElementById("lastName");
        lastName.addEventListener("input", validate);

        var emailId = document.getElementById("emailId");
        emailId.addEventListener("input", validate);

        var phoneNumber = document.getElementById("phoneNumber");
		phoneNumber.addEventListener("input", validate);

		var zipcode = document.getElementById("zipcode");
        zipcode.addEventListener("input", validate);


        function validate(e) 
		{
            console.log("validate");
            var value = e.target.value;
            console.log(value);
            var type = this.id;
            var em = "error_" + type;
            switch (type)
			 {
				case "firstName":
                    if (!value.trim().match(regExName)) {    //IF THE value doesnot match the regex
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validFirstName = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validFirstName = true;
                    }
					break;
					
				case "lastName":
                    if (!value.trim().match(regExName)) {
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validLastName = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validLastName = true;
                    }
                    break;

                case "emailId":
                    if (!value.trim().match(regExEmail)) {
                        document.getElementById(em).style.display = "block";
                        validEmailId = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validEmailId = true;
                    }
                    break;
                case "phoneNumber":
                    if (!value.trim().match(regExPhone)) {
                        document.getElementById(em).style.display = "block";
                        validPhoneNumber = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validPhoneNumber = true;
                    }
					break;
					
					case "zipcode":
                    if (!value.trim().match(regExZipCode)) {
                        document.getElementById(em).style.display = "block";
                        validZipCode = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validZipCode = true;
                    }
                    break;
            }
		}
		

		function addRadio(e) 
		{
        console.log(e.target.value);
        var selected = e.target.value;
		var dynamicRadio = document.getElementById("dynamicRadio");
		var dynamicText = document.getElementById("fieldtext");
		console.log(radioDynamic.innerHTML);
		if(selected === "select"){
			dynamicText.style.display = "none";
		}
        if (selected === "Latte") {
          dynamicRadio.style.display = "block";
		  radioDynamic.value = "Latte $4";
		  radioDynamic1.value = "Latte $7"
		  document.getElementById("spanTag").innerHTML = "Small: $4";
		  document.getElementById("spanTag1").innerHTML = "Large: $7";
        } else if (selected === "Mocha") {
          dynamicRadio.style.display = "block";
		  radioDynamic.value = "Mocha $3";
		  radioDynamic1.value = "Mocha $5";
		  document.getElementById("spanTag").innerHTML = "Small: $3";
		  document.getElementById("spanTag1").innerHTML = "Large: $5";
		  
        } else if (selected === "Cappuccino") {
          dynamicRadio.style.display = "block";
		  radioDynamic.value = "Cappuccino $2";
		  radioDynamic1.value = "Cappuccino $4";
		  document.getElementById("spanTag").innerHTML = "Small: $2";
		  document.getElementById("spanTag1").innerHTML = "Large: $4";
        } else if (selected === "Americano") {
          dynamicRadio.style.display = "block";
		  radioDynamic.value = "Americano $2.5";
		  radioDynamic1.value = "Americano $5";
		  document.getElementById("spanTag").innerHTML = "Small: $2.5";
		  document.getElementById("spanTag1").innerHTML = "Large: $5";
        } else if (selected === "Espresso") {
          dynamicRadio.style.display = "block";
		  radioDynamic.value = "Espresso $5";
		  radioDynamic1.value = "Espresso $11";
		  document.getElementById("spanTag").innerHTML = "Small: $5";
		  document.getElementById("spanTag1").innerHTML = "Large: $11";
        } else {
          dynamicRadio.style.display = "none";
        }
        console.log(radioDynamic.value);
      }
			
		function addTextField(e) {
			console.log(e);
			var selected = e.target.checked;
			var textarea = document.getElementById("fieldtext");
			var listbox = document.getElementById("optionSelect");
			
			if (selected) {
				textarea.style.display = "block";
			} else {
			  textarea.style.display = "none";
			}
		}
		var optionSelect = document.getElementById("optionSelect");
     	optionSelect.addEventListener("change", addRadio);

		  var radioSelect = document.getElementById("radioDynamic");
		  var radioSelect1 = document.getElementById("radioDynamic1");
		  radioSelect.addEventListener("change", addTextField);
		  radioSelect1.addEventListener("change", addTextField);


		// function 

        function submitted(e) {
            			
			e.preventDefault();
                console.log("submitted");
                console.log(validFirstName + "|" + validLastName + "|" + validEmailId + "|" + validPhoneNumber + "|" + validZipCode );
                if(validFirstName && validLastName && validEmailId && validPhoneNumber && validZipCode) {
                    alert("Data Saved Successfully");
                }
                else {
                    alert("Please enter valid details");
                }
				document.getElementById("table").style.display="block";
                
            var table = document.getElementById("table");
            var row = table.insertRow(-1);
            var title = row.insertCell(0);
            var firstName = row.insertCell(1);
            var lastName = row.insertCell(2);
			var emailId =row.insertCell(3);
			var phoneNumber = row.insertCell(4);
			var address1 =row.insertCell(5);
			var address2 = row.insertCell(6);
			var city = row.insertCell(7);
			var state = row.insertCell(8);
			var zipcode = row.insertCell(9);
			
			
			var comments = row.insertCell(10);
			var fldcom = row.insertCell(11);



			title.innerHTML = document.querySelector('input[name="title"]:checked').value;

            firstName.innerHTML = document.getElementById("firstName").value;
            lastName.innerHTML = document.getElementById("lastName").value;
            emailId.innerHTML = document.getElementById("emailId").value;

            phoneNumber.innerHTML = document.getElementById("phoneNumber").value;
            address1.innerHTML = document.getElementById("streetAddress1").value;
            address2.innerHTML = document.getElementById("streetAddress2").value;
				 

            city.innerHTML = document.getElementById("city").value;
            state.innerHTML = document.getElementById("state").value;
            zipcode.innerHTML = document.getElementById("zipcode").value;
		
			comments.innerHTML = document.getElementById("comments").value;
			
			fldcom.innerHTML = document.getElementById("fldtxt").value;
			

        	form.reset();
                
		


    }
 
 </script>

 </body>
</html>
